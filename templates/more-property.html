{% extends 'base.html' %}
{% block content%}

<div class="container-xxl py-5">
            <div class="container">
                <div class="row g-0 gx-5 align-items-end">
                    <div class="col-lg-6">
                        <div class="text-start mx-auto mb-5 wow slideInLeft" data-wow-delay="0.1s">
                            <h1 class="mb-3">Property Listing</h1>
                            <p></p>
                        </div>
                    </div>
                    {% comment %} <div class="col-lg-6 text-start text-lg-end " >
                      <ul class="nav nav-pills d-inline-flex justify-content-end mb-5">
                      <li class="nav-item me-2">
                            <a class="btn btn-outline-primary active" onclick="filterProperties('All')">Featured</a>
                        </li>
                        <li class="nav-item me-2">
                            <a class="btn btn-outline-primary" onclick="filterProperties('Sell')">For Sell</a>
                        </li>
                        <li class="nav-item me-0">
                            <a class="btn btn-outline-primary" onclick="filterProperties('Rent')">For Rent</a>
                        </li>
                    </ul>
                    </div> {% endcomment %}
                    </div>
                    <div class="tab-content">
                        <div id="tab-1" class="tab-pane fade show p-0 active">
                            <div class="row g-4 property-container">
                                {% for prod in detail %}
                                    {% if not prod.is_booked %}
                                        <div class="col-lg-3 col-md-6  ">
                                            <div class="property-item rounded overflow-hidden property-column"  data-category="{{ prod.Listing_type }}" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                                <div class="position-relative overflow-hidden">
                                                    <a href="{% url 'product_detail' prod.id %}">
                                                        <img style="height:250px;" class="img-fluid" src="/media/{{ prod.Image }}"/></a>
                    
                                                    {% if not prod.is_booked %}
                                                    <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3"> {{prod.Listingtype}} </div>
                    
                                                    {% else %}
                                                    <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3"> Booked </div>
                                                    {% endif %}
                                                    <div class="bg-white rounded-top text-primary position-absolute start-0 bottom-0 mx-4 pt-1 px-3">
                                                        {{ prod.Room_var }}
                                                    </div>
                                                </div>
                                                <div class="p-4 pb-0">
                                                    <h5 class="text-primary mb-3">{{ prod.Price }}â‚¹</h5>
                    
                                                    <p>
                                                        <i class="fa fa-map-marker-alt text-primary me-2"></i
                                                        >{{prod.Address}}, {{prod.City}}
                                                    </p>
                                                </div>
                                                <div class="d-flex border-top">
                                                    <small class="flex-fill text-center border-end py-2">
                                                      <i class="fa fa-ruler-combined text-primary me-2"></i>
                                                      {{prod.Area}} Sq.
                                                    </small>
                                                    <small class="flex-fill text-center border-end py-2"
                                                        ><i class="fa fa-bed text-primary me-2"></i
                                                        >{{prod.Number_of_rooms}} Room</small
                                                    >
                                                    <small class="flex-fill text-center py-2"
                                                        ><i class="fa fa-bath text-primary me-2"></i
                                                        >{{prod.Bath_room}} Bathroom</small
                                                    >
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                 
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function filterProperties(category) {
        $('.property-item').each(function() {
            const itemCategory = $(this).data('category');
            if (category === 'all' || category === itemCategory) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
        $('.property-container').css({
          display: 'flex',
          flexWrap: 'wrap',
          justifyContent: 'space-between',
      });
      
      // You might need to adjust the width of property items again if the number of columns changes after filtering
      $('.property-item:visible').css('width', 'calc(33.33% - 10px)');
  
    }
</script>        
                        
                </div>
            </div>
        </div>






{% endblock %}